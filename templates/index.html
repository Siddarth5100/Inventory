<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Inventory Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
    
    <header class="bg-dark text-white py-1">
        <div class="container">
            <h1 class="text-center">Inventory Management</h1>
        </div>
    </header>

    <div class="container">
        <div class = "row">  
            <div class = "col-6">
                               
                <div class="card mt-3 w-75">
                    <div class="card-header">Location:</div>
                    <div class="card-body">
                        
                        <input type="text" id="location-Input" class="form-control" placeholder="Enter Location">
                        <button id="add-Location-Btn" class="btn btn-primary mt-2 me-2">Add Location</button>
                        
                        <div id="locationAlert" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
                            Location added successfully!
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>

                        <a href="/locations" class="btn btn-secondary mt-2">View Locations</a>
                    </div>
                </div>

                <div class="card mt-3 w-75">
                    <div class="card-header">Product:</div>
                    <div class="card-body">

                        <input type="text" id="product-Input" class="form-control" placeholder="Enter Product">
                        <button id="add-Product-Btn" class="btn btn-primary mt-2 me-2">Add Product</button>
                        
                        <div id="productAlert" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
                            Product added successfully!
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>                     

                        <a href="/products" class="btn btn-secondary mt-2">View Products</a>
                    </div>
                </div>
            </div>


            <div class = "col-6">
                <div class="card mt-3 w-100">
                    <div class="card-header">Stock Details</div>
                    <div class="card-body">
                        <div style="max-height: 260px; overflow-y: auto;">
                            
                            <table class="table table-striped mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>Product</th>
                                        <th>Location</th>
                                        <th>Quantity</th>
                                    </tr>
                                </thead>
                                <tbody id="stockTableBody"></tbody>
                            </table>
                        
                        </div>
                    </div>
                </div>
            </div>    
              
            <div class= "card mt-3 w-75">
                <div class="card-header">Product movements:</div>
                <div class="card-body">
                    <div class = "row">

                        <div class = "col-3">
                            <select class="form-select" name="from_location" id="fromLocation">
                                <option value="" selected disabled>From Location</option>
                                <option value="">None</option>
                                {% for loc in locations %}
                                    <option value="{{ loc.location_id }}">{{ loc.location_name }}</option>
                                {% endfor %}    
                            </select>
                        </div>

                        <div class = "col-3">
                            <select class="form-select" name="to_location" id="toLocation">
                                <option value="" selected disabled>To location</option>
                                <option value="">None</option>
                                {% for loc in locations %}
                                    <option value="{{ loc.location_id }}">{{ loc.location_name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class = "col-3">
                            <select class="form-select" name="product" id="productSelect">
                                <option value="" selected disabled>Product name</option>
                                <option value="">None</option>
                                {% for prod in products %}
                                    <option value="{{ prod.product_id }}">{{ prod.product_name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                            
                        <div class = "col-3">
                            <input type="number" class="form-control" id="movementQty" placeholder="Qty">
                        </div>
                    
                    </div>

                    <div class = "row">
                        <div class="col-12">
                        <button class="btn btn-primary mt-2 me-2" id="makeMovementBtn">Make Movement</button>
                        
                        <div id="movementAlert" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
                            Product movement recorded successfully!
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>

                        <a href="/productmovements" class="btn btn-secondary mt-2">View Movement Logs</a>
                        </div>
                    </div>

                </div>               
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="static/js/main.js"></script>

</body>
</html>


